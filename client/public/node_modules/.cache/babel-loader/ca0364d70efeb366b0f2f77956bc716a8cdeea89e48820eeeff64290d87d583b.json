{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Inventory_project\\\\client\\\\src\\\\components\\\\Products\\\\Products.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Products() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n\n  // Pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  const productsPerPage = 5; // adjust per your need\n\n  // Filters\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedSupplier, setSelectedSupplier] = useState(\"\");\n\n  // ✅ Fetch products, categories, suppliers\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const resProducts = await axios.get(\"/api/products\");\n        const resCategories = await axios.get(\"/api/categories\");\n        const resSuppliers = await axios.get(\"/api/suppliers\");\n        setProducts(resProducts.data);\n        setCategories(resCategories.data);\n        setSuppliers(resSuppliers.data);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // ✅ Filter products\n  const filteredProducts = products.filter(product => {\n    return (selectedCategory ? product.category === selectedCategory : true) && (selectedSupplier ? product.supplier === selectedSupplier : true);\n  });\n\n  // ✅ Pagination logic\n  const totalPages = Math.ceil(filteredProducts.length / productsPerPage);\n  const indexOfLast = currentPage * productsPerPage;\n  const indexOfFirst = indexOfLast - productsPerPage;\n  const currentProducts = filteredProducts.slice(indexOfFirst, indexOfLast);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"15px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedCategory,\n        onChange: e => setSelectedCategory(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: cat.name,\n          children: cat.name\n        }, cat._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedSupplier,\n        onChange: e => setSelectedSupplier(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Suppliers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), suppliers.map(sup => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: sup.name,\n          children: sup.name\n        }, sup._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), currentProducts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No products found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: currentProducts.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [product.name, \" \\u2013 \\u20B9\", product.price, \" \\u2013 Stock: \", product.stock]\n      }, product._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: currentPage === 1,\n        onClick: () => setCurrentPage(prev => prev - 1),\n        children: \"Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" \", \"Page \", currentPage, \" of \", totalPages, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: currentPage === totalPages,\n        onClick: () => setCurrentPage(prev => prev + 1),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Products, \"tU51BV4+w+GB6DmZ3T0qGM8WdHU=\");\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Products","_s","products","setProducts","categories","setCategories","suppliers","setSuppliers","currentPage","setCurrentPage","productsPerPage","selectedCategory","setSelectedCategory","selectedSupplier","setSelectedSupplier","fetchData","resProducts","get","resCategories","resSuppliers","data","error","console","filteredProducts","filter","product","category","supplier","totalPages","Math","ceil","length","indexOfLast","indexOfFirst","currentProducts","slice","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","value","onChange","e","target","map","cat","name","_id","sup","price","stock","disabled","onClick","prev","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Inventory_project/client/src/components/Products/Products.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction Products() {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [suppliers, setSuppliers] = useState([]);\r\n\r\n  // Pagination\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const productsPerPage = 5; // adjust per your need\r\n\r\n  // Filters\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [selectedSupplier, setSelectedSupplier] = useState(\"\");\r\n\r\n  // ✅ Fetch products, categories, suppliers\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const resProducts = await axios.get(\"/api/products\");\r\n        const resCategories = await axios.get(\"/api/categories\");\r\n        const resSuppliers = await axios.get(\"/api/suppliers\");\r\n\r\n        setProducts(resProducts.data);\r\n        setCategories(resCategories.data);\r\n        setSuppliers(resSuppliers.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // ✅ Filter products\r\n  const filteredProducts = products.filter((product) => {\r\n    return (\r\n      (selectedCategory ? product.category === selectedCategory : true) &&\r\n      (selectedSupplier ? product.supplier === selectedSupplier : true)\r\n    );\r\n  });\r\n\r\n  // ✅ Pagination logic\r\n  const totalPages = Math.ceil(filteredProducts.length / productsPerPage);\r\n  const indexOfLast = currentPage * productsPerPage;\r\n  const indexOfFirst = indexOfLast - productsPerPage;\r\n  const currentProducts = filteredProducts.slice(indexOfFirst, indexOfLast);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Products</h2>\r\n\r\n      {/* Filters */}\r\n      <div style={{ marginBottom: \"15px\" }}>\r\n        <select\r\n          value={selectedCategory}\r\n          onChange={(e) => setSelectedCategory(e.target.value)}\r\n        >\r\n          <option value=\"\">All Categories</option>\r\n          {categories.map((cat) => (\r\n            <option key={cat._id} value={cat.name}>\r\n              {cat.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <select\r\n          value={selectedSupplier}\r\n          onChange={(e) => setSelectedSupplier(e.target.value)}\r\n        >\r\n          <option value=\"\">All Suppliers</option>\r\n          {suppliers.map((sup) => (\r\n            <option key={sup._id} value={sup.name}>\r\n              {sup.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Products list */}\r\n      {currentProducts.length === 0 ? (\r\n        <p>No products found</p>\r\n      ) : (\r\n        <ul>\r\n          {currentProducts.map((product) => (\r\n            <li key={product._id}>\r\n              {product.name} – ₹{product.price} – Stock: {product.stock}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n\r\n      {/* Pagination */}\r\n      <div>\r\n        <button\r\n          disabled={currentPage === 1}\r\n          onClick={() => setCurrentPage((prev) => prev - 1)}\r\n        >\r\n          Prev\r\n        </button>\r\n        <span>\r\n          {\" \"}\r\n          Page {currentPage} of {totalPages}{\" \"}\r\n        </span>\r\n        <button\r\n          disabled={currentPage === totalPages}\r\n          onClick={() => setCurrentPage((prev) => prev + 1)}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}